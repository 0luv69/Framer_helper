{% extends "base.html" %}


{% block content %}
<main class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
      {% for each_product in product %}
      <div class="bg-white shadow-lg rounded-lg overflow-hidden"  onclick="view_product('{{each_product.slug}}')">
        {% if each_product.product_images.exists %}
        <img src="/media/{{each_product.product_images.first.image}}" alt="Product 1" class="w-full h-56 object-cover">
        {% else %}
        <img src="https://via.placeholder.com/300" alt="Product 2" class="w-full h-56 object-cover">
        {% endif %}

        <div class="p-4">
          <h2 class="text-lg font-semibold text-gray-800">{{each_product.title}}</h2>
          <p class="text-gray-600">Rs. {{each_product.price}}</p>
          <button class="mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Add to Cart</button>
          <button class="mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">View More</button>
        </div>
      </div>
      {% endfor %}
    </div>
  </main>
  
{% endblock content %}


{% block scripts %}
function view_product(slug) {
    window.open("/product/" + slug, "_blank");
}

{% endblock scripts %}